<% const idIndex = index.replace(/[\[\]]/g, "")+slug %>
<% if (!content[slug]) content[slug] = {} %>
<div class="form-floating mb-2" id="<%- index.replace(/[\[\]]/g, "-") %><%- slug %>" >
  <!-- Select Button Type -->
  <select class="form-select toggle" id="<%- idIndex %>-select"  
          name=<%- index %>[<%- slug %>][type]
          data-cms-targets="!<%- idIndex %>text <%- idIndex %>internal <%- idIndex %>external <%- idIndex %>scroll"
          data-cms-values="no internal external scroll"
          >
    <option value="no" <% if (content[slug].type ==  "no") { %>selected<% } %> >No Button</option>
    <option value="internal" <% if (content[slug].type ==  "internal") { %>selected<% } %> >Internal Link</option>
    <option value="external" <% if (content[slug].type ==  "external") { %>selected<% } %> >External Link</option>
    <option value="scroll" <% if (content[slug].type ==  "scroll") { %>selected<% } %> >Scroll to Section</option>
  </select>
  <label for="<%- idIndex %>-select"><%- label %></label>
  <div class="row row-cols-1 row-cols-sm-2">
    <!-- Button Text -->
    <div class="col" id="<%- idIndex %>text">
      <div class="form-floating mt-2">
        <textarea class="form-control" id="<%- idIndex %>ButtonText"
                  name="<%- index %>[<%- slug %>][text]" placeholder="Button Text"
                  ><%= content[slug].text %></textarea>
        <label for="<%- idIndex %>ButtonText">Button Text</label>
      </div>
    </div>
    <!-- Internal Link Select -->
    <div class="col" id="<%- idIndex %>internal">
      <div class="form-floating mt-2">
        <select class="form-select" id="<%- idIndex %>ButtonPage"  
                name=<%- index %>[<%- slug %>][page]
                >
          <% for (page of site.pages) { %>
            <option value=<%- page.link %> <% if (content[slug].page ==  page.link) { %>selected<% } %> ><%- page.name %> (<%- page.link %>)</option>
          <% } %>
        </select>
        <label for="<%- idIndex %>ButtonPage">Select Page</label>
      </div>
    </div>
    <!-- External Link Input -->
    <div class="col" id="<%- idIndex %>external">
      <div class="form-floating mt-2" >
        <textarea class="form-control" placeholder="Insert external link here"  
        name="<%- index %>[<%- slug %>][link]" id="<%- idIndex %>link"
        ><%= content[slug].link %></textarea>
        <label for="<%- idIndex %>link">Full Link (https://example.com)</label>
      </div>
    </div>
    <!-- Scroll to Section -->
    <div class="col" id="<%- idIndex %>scroll">
      <div class="form-floating mt-2" >
        <input class="form-control" id="<%- idIndex %>num"
               type="number" min="0"
               name="<%- index %>[<%- slug %>][scroll]" 
               value=<%- content[slug].scroll %>>
        <label for="<%- idIndex %>num">Scroll to Section:</label>
      </div>
    </div>
  </div>

</div>